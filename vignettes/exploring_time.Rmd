---
title: "Exploring temporal trends"
author: "Vignette Author"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  warning = FALSE,
  message = FALSE,
  error = FALSE,
  outwidth = "100%",
  fig.width = 8, fig.height = 6)
```


# Read data

```{r}
library(learningtower)
library(tidyverse)
data(student)
```

# Data exploration
## Australia

```{r}
student %>% 
  filter(country == "AUS") %>%
  group_by(year) %>%
  summarise(math = weighted.mean(math, stu_wgt, na.rm=TRUE)) %>%
  ggplot() + 
    geom_line(aes(x=year, y=math)) +
    ylim(c(0,1000))
```

## All countries

```{r}
student %>% 
  group_by(year, country) %>%
  summarise(math = weighted.mean(math, stu_wgt, na.rm=TRUE)) %>%
  ggplot() + 
    geom_line(aes(x=year, y=math, group=country)) +
    ylim(c(250,800))
# Uncomment this to make interactive
#library(plotly)
#ggplotly()

```

## Features

