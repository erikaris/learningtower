<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Data munging for the PISA data â€¢ learningtower</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Data munging for the PISA data">
<meta property="og:description" content="">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">learningtower</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/data_munging.html">Data munging for the PISA data</a>
    </li>
    <li>
      <a href="../articles/exploring_time.html">Exploring temporal trends</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Data munging for the PISA data</h1>
                        <h4 class="author">Vignette Author</h4>
            
            <h4 class="date">2019-12-13</h4>
      
      
      <div class="hidden name"><code>data_munging.Rmd</code></div>

    </div>

    
    
<div id="overview" class="section level1">
<h1 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h1>
<p>OECD provides the PISA data for the years 2000, 2003, 2006, 2009, 2012, 2015 and 2018 at <a href="https://www.oecd.org/pisa/data/" class="uri">https://www.oecd.org/pisa/data/</a>. While this data is accessible for the general public, the formatting of the data is different across years with inconsistent naming of questions/variables.</p>
<p>As the <code>learningtower</code> package aims to contribute to the community by providing curated PISA data, we believe it is important to document the data curation steps to a sufficient degree so that future analysts can reproduce our data/results. The rest of this document will organise the data processing steps by year.</p>
</div>
<div id="sources" class="section level1">
<h1 class="hasAnchor">
<a href="#sources" class="anchor"></a>Sources</h1>
<p>Data files for years 2000, 2003, 2006, 2009, 2012, 2015, 2018, were downloaded from <a href="https://www.oecd.org/pisa/data/" class="uri">https://www.oecd.org/pisa/data/</a>. The format of the data provided is different across years.</p>
<p>Only text files are provided up to 2012, along with SPSS read scripts. These were read with <code>read_fwf()</code> after reading the SPSS format files, computing the field widths from the start, end columns for each variable, and using the provided variable name. The code for doing this is in the <code>data-raw</code> folder.</p>
<p>Binary SPSS files are provided for 2015, 2018. These files are read in into R using the <code>read_sav()</code> function in the <code>haven</code> package.</p>
</div>
<div id="variable-selection-renaming-and-merging-of-years" class="section level1">
<h1 class="hasAnchor">
<a href="#variable-selection-renaming-and-merging-of-years" class="anchor"></a>Variable selection, renaming and merging of years</h1>
<p>The datasets have a very large number and varying variable names between years. Variables have been selected and the data for each year and questionnaire combined to enable a longitudinal analysis.</p>
<p>The following provides the variable naming for each questionnaire:</p>
<p><strong>Student Questionnaire</strong></p>
<p>The student questionnaire data file (which also includes estimates of student performance and parent-questionnaire data) has been reduced to the following variable subset:</p>
<p><em>Note</em> this is the current 2018 naming convention and is subject to change on a review of the data sets.</p>
<table class="table">
<thead><tr class="header">
<th align="left">Name</th>
<th align="left">Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">CNT</td>
<td align="left">Country code 3-character</td>
</tr>
<tr class="even">
<td align="left">CNTSCHID</td>
<td align="left">Intl. School ID</td>
</tr>
<tr class="odd">
<td align="left">CNTSTUID</td>
<td align="left">Intl. Student ID</td>
</tr>
<tr class="even">
<td align="left">ST004D01T</td>
<td align="left">What is the <highest level of schooling> completed by your mother?</highest>
</td>
</tr>
<tr class="odd">
<td align="left">ST005Q01TA</td>
<td align="left">What is the <highest level of schooling> completed by your father?</highest>
</td>
</tr>
<tr class="even">
<td align="left">ST007Q01TA</td>
<td align="left">Student (Standardized) Gender</td>
</tr>
<tr class="odd">
<td align="left">ST011Q04TA</td>
<td align="left">In your home: A computer you can use for school work</td>
</tr>
<tr class="even">
<td align="left">ST011Q06TA</td>
<td align="left">In your home: A link to the Internet</td>
</tr>
<tr class="odd">
<td align="left">W_FSTUWT</td>
<td align="left">Plausible Value 1 in Mathematics</td>
</tr>
<tr class="even">
<td align="left">PV1MATH</td>
<td align="left">Plausible Value 1 in Reading</td>
</tr>
<tr class="odd">
<td align="left">PV1READ</td>
<td align="left">Plausible Value 1 in Science</td>
</tr>
<tr class="even">
<td align="left">PV1SCIE</td>
<td align="left">FINAL TRIMMED NONRESPONSE ADJUSTED STUDENT WEIGHT</td>
</tr>
</tbody>
</table>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#overview">Overview</a></li>
      <li><a href="#sources">Sources</a></li>
      <li><a href="#variable-selection-renaming-and-merging-of-years">Variable selection, renaming and merging of years</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Kim Fitter, Paul Yacobellis, Erika Siregar, Sarah Romanes, Kevin Wang, Giulio Valentino Dalla Riva, Dianne Cook, Nick Tierney.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
